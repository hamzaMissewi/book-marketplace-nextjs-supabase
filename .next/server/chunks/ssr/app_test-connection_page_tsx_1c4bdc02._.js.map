{"version":3,"sources":["../../../../app/test-connection/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function TestConnection() {\r\n  const [connectionStatus, setConnectionStatus] = useState({\r\n    loading: true,\r\n    error: null as string | null,\r\n    data: null as any,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const testConnection = async () => {\r\n      try {\r\n        const supabase = createClient();\r\n\r\n        // Test authentication\r\n        const { data: authData, error: authError } =\r\n          await supabase.auth.getSession();\r\n\r\n        if (authError) throw authError;\r\n\r\n        // Test a simple query (adjust the table name to one that exists in your DB)\r\n        const { data, error } = await supabase\r\n          .from(\"profiles\") // Change 'profiles' to your table name\r\n          .select(\"*\")\r\n          .limit(1);\r\n\r\n        if (error) throw error;\r\n\r\n        setConnectionStatus({\r\n          loading: false,\r\n          error: null,\r\n          data: {\r\n            session: authData.session,\r\n            tableData: data,\r\n            env: {\r\n              supabaseUrl: process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n              nodeEnv: process.env.NODE_ENV,\r\n            },\r\n          },\r\n        });\r\n      } catch (error: any) {\r\n        console.error(\"Connection test failed:\", error);\r\n        setConnectionStatus({\r\n          loading: false,\r\n          error: error.message,\r\n          data: null,\r\n        });\r\n      }\r\n    };\r\n\r\n    testConnection();\r\n  }, []);\r\n\r\n  if (connectionStatus.loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <p>Testing Supabase connection...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-3xl mx-auto bg-white p-8 rounded-lg shadow\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">Supabase Connection Test</h1>\r\n\r\n        {connectionStatus.error ? (\r\n          <div className=\"bg-red-50 border-l-4 border-red-500 p-4 mb-6\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg\r\n                  className=\"h-5 w-5 text-red-500\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-sm font-medium text-red-800\">\r\n                  Connection Failed\r\n                </h3>\r\n                <div className=\"mt-2 text-sm text-red-700\">\r\n                  <p>{connectionStatus.error}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-green-50 border-l-4 border-green-500 p-4 mb-6\">\r\n            <div className=\"flex\">\r\n              <div className=\"flex-shrink-0\">\r\n                <svg\r\n                  className=\"h-5 w-5 text-green-500\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"currentColor\"\r\n                >\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\r\n                    clipRule=\"evenodd\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"ml-3\">\r\n                <h3 className=\"text-sm font-medium text-green-800\">\r\n                  Connection Successful!\r\n                </h3>\r\n                <div className=\"mt-2 text-sm text-green-700\">\r\n                  <p>Successfully connected to Supabase.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-6\">\r\n          <div>\r\n            <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n              Environment Variables\r\n            </h2>\r\n            <div className=\"bg-gray-50 p-4 rounded-md overflow-x-auto\">\r\n              <pre className=\"text-sm\">\r\n                NEXT_PUBLIC_SUPABASE_URL = \"\r\n                {process.env.NEXT_PUBLIC_SUPABASE_URL}\" NODE_ENV = \"\r\n                {process.env.NODE_ENV}\"\r\n              </pre>\r\n            </div>\r\n          </div>\r\n\r\n          {connectionStatus.data?.session && (\r\n            <div>\r\n              <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                Session Info\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-md overflow-x-auto\">\r\n                <pre className=\"text-sm\">\r\n                  {JSON.stringify(connectionStatus.data.session, null, 2)}\r\n                </pre>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {connectionStatus.data?.tableData && (\r\n            <div>\r\n              <h2 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                Sample Data\r\n              </h2>\r\n              <div className=\"bg-gray-50 p-4 rounded-md overflow-x-auto\">\r\n                <pre className=\"text-sm\">\r\n                  {JSON.stringify(connectionStatus.data.tableData, null, 2)}\r\n                </pre>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n          <button\r\n            onClick={() => window.location.reload()}\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n          >\r\n            Test Again\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}